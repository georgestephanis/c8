{"version":3,"sources":["components/c8editor.jsx","c8.jsx"],"names":["wp","element","Component","Fragment","components","Button","TextareaControl","C8Editor","props","state","content","working","setState","publishCallback","reset","toggleWorking","publish","Post","api","models","render","newPost","status","save","stub","document","createElement","id","querySelector","before"],"mappings":"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","file":"c8.js","sourceRoot":"","sourcesContent":["\nconst {\n\tComponent,\n\tFragment\n} = wp.element;\n\nconst {\n\tButton,\n\tTextareaControl\n} = wp.components;\n\nclass C8Editor extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tcontent: '',\n\t\t\tworking: false,\n\t\t};\n\t}\n\n\t// just for testing\n\ttoggleWorking() {\n\t\tthis.setState({ working: ! this.state.working });\n\t}\n\n\treset() {\n\t\tthis.setState({\n\t\t\tcontent: '',\n\t\t\tworking: false,\n\t\t});\n\t}\n\n\tpublish() {\n\t\tthis.setState({ working: true });\n\n\t\tif ( this.props.publishCallback( this.state ) ) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tthis.setState({ working: false });\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<TextareaControl\n\t\t\t\t\tlabel=\"Write A New Postâ€¦\"\n\t\t\t\t\tvalue={ this.state.content }\n\t\t\t\t\tdisabled={ this.state.working }\n\t\t\t\t\tonChange={ content => this.setState({ content }) }\n\t\t\t\t/>\n\t\t\t\t<Button isTertiary onClick={ ()=>this.toggleWorking() }>Toggle</Button>\n\t\t\t\t<Button disabled={ this.state.working } isSecondary onClick={ ()=>this.reset() }>Reset</Button>\n\t\t\t\t<Button disabled={ this.state.working } isPrimary onClick={ ()=>this.publish() }>Publish</Button>\n\t\t\t\t<small>{ this.state.content }</small>\n\t\t\t</Fragment>\n\n\t\t);\n\t}\n}\n\nexport default C8Editor;\n","\nconst {\n\tPost\n} = wp.api.models;\n\nconst {\n\trender\n} = wp.element;\n\nconst {\n} = wp.components;\n\nimport C8Editor from './components/c8editor';\n\nimport './c8.scss';\n\nfunction publishCallback( { content } ) {\n\tconst newPost = new Post( {\n\t\tcontent,\n\t\tstatus: 'publish',\n\t} );\n\tnewPost.save();\n\n\treturn newPost;\n}\n\n// Bootload in the stub for the new post\nconst stub = document.createElement('div');\nstub.id = 'c8-new-post';\ndocument.querySelector('.post.hentry').before( stub );\n\n// Render the React component.\nrender(\n\t( <C8Editor publishCallback={ publishCallback } /> ),\n\tstub\n);\n"]}